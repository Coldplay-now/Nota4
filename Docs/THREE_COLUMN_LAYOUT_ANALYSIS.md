# Nota4 ä¸‰æ å¸ƒå±€æœºåˆ¶åˆ†æ

**åˆ›å»ºæ—¶é—´**: 2025-11-19 07:45:06  
**ç›®çš„**: åˆ†æ Nota4 çš„ä¸‰æ å¸ƒå±€ç»“æ„ä»¥åŠæ§åˆ¶ä¸‰ä¸ªæ åˆ†åˆ«æ˜¾ç¤ºçš„æ§åˆ¶æœºåˆ¶ï¼Œè¯†åˆ«ä¼˜åŒ–ç©ºé—´

---

## ğŸ“‹ ç›®å½•

1. [å¸ƒå±€ç»“æ„åˆ†æ](#å¸ƒå±€ç»“æ„åˆ†æ)
2. [æ§åˆ¶æœºåˆ¶åˆ†æ](#æ§åˆ¶æœºåˆ¶åˆ†æ)
3. [å®½åº¦æ§åˆ¶æœºåˆ¶](#å®½åº¦æ§åˆ¶æœºåˆ¶)
4. [çŠ¶æ€ç®¡ç†æœºåˆ¶](#çŠ¶æ€ç®¡ç†æœºåˆ¶)
5. [ä¼˜åŒ–ç©ºé—´åˆ†æ](#ä¼˜åŒ–ç©ºé—´åˆ†æ)

---

## 1. å¸ƒå±€ç»“æ„åˆ†æ

### 1.1 æ•´ä½“æ¶æ„

Nota4 ä½¿ç”¨ SwiftUI çš„ `NavigationSplitView` å®ç°ä¸‰æ å¸ƒå±€ï¼š

```swift
NavigationSplitView(
    columnVisibility: Binding(...)
) {
    // ç¬¬ä¸€æ ï¼šä¾§è¾¹æ ï¼ˆSidebarï¼‰
    SidebarView(...)
        .navigationSplitViewColumnWidth(min: 180, ideal: 200, max: 250)
} content: {
    // ç¬¬äºŒæ ï¼šç¬”è®°åˆ—è¡¨ï¼ˆNoteListï¼‰
    NoteListView(...)
        .navigationSplitViewColumnWidth(min: 280, ideal: 280, max: 500)
} detail: {
    // ç¬¬ä¸‰æ ï¼šç¼–è¾‘å™¨ï¼ˆEditorï¼‰
    NoteEditorView(...)
    // ä¸è®¾ç½®æœ€å°å®½åº¦ï¼Œå æ®å‰©ä½™ç©ºé—´
}
.navigationSplitViewStyle(.balanced)
```

### 1.2 ä¸‰æ ç»„æˆ

| æ ä½ | ç»„ä»¶ | åŠŸèƒ½ | å®½åº¦èŒƒå›´ |
|------|------|------|----------|
| **ç¬¬ä¸€æ ** | `SidebarView` | åˆ†ç±»å¯¼èˆªã€æ ‡ç­¾ç®¡ç†ã€ç»Ÿè®¡ä¿¡æ¯ | 180-250 pt |
| **ç¬¬äºŒæ ** | `NoteListView` | ç¬”è®°åˆ—è¡¨ã€æœç´¢ã€ç­›é€‰ | 280-500 pt |
| **ç¬¬ä¸‰æ ** | `NoteEditorView` | ç¬”è®°ç¼–è¾‘ã€é¢„è§ˆ | è‡ªé€‚åº”å‰©ä½™ç©ºé—´ |

### 1.3 å¸ƒå±€æ ·å¼

- **æ ·å¼**: `.navigationSplitViewStyle(.balanced)`
- **ç‰¹ç‚¹**: å¹³è¡¡æ¨¡å¼ï¼Œè‡ªåŠ¨å“åº”çª—å£å¤§å°å˜åŒ–
- **æœ€å°çª—å£å°ºå¯¸**: 800pt Ã— 622pt

---

## 2. æ§åˆ¶æœºåˆ¶åˆ†æ

### 2.1 å¸ƒå±€æ¨¡å¼å®šä¹‰

é€šè¿‡ `LayoutMode` æšä¸¾å®šä¹‰ä¸‰ç§å¸ƒå±€æ¨¡å¼ï¼š

```swift
enum LayoutMode: String, Equatable, CaseIterable {
    case threeColumn = "ä¸‰æ "    // åˆ†ç±» + åˆ—è¡¨ + ç¼–è¾‘
    case twoColumn = "ä¸¤æ "      // åˆ—è¡¨ + ç¼–è¾‘
    case oneColumn = "ä¸€æ "      // ä»…ç¼–è¾‘
    
    var columnVisibility: NavigationSplitViewVisibility {
        switch self {
        case .threeColumn: return .all
        case .twoColumn: return .doubleColumn
        case .oneColumn: return .detailOnly
        }
    }
}
```

### 2.2 æ˜¾ç¤ºæ§åˆ¶æ˜ å°„

| å¸ƒå±€æ¨¡å¼ | NavigationSplitViewVisibility | ä¾§è¾¹æ  | åˆ—è¡¨ | ç¼–è¾‘å™¨ |
|---------|------------------------------|--------|------|--------|
| **ä¸‰æ ** | `.all` | âœ… æ˜¾ç¤º | âœ… æ˜¾ç¤º | âœ… æ˜¾ç¤º |
| **ä¸¤æ ** | `.doubleColumn` | âŒ éšè— | âœ… æ˜¾ç¤º | âœ… æ˜¾ç¤º |
| **ä¸€æ ** | `.detailOnly` | âŒ éšè— | âŒ éšè— | âœ… æ˜¾ç¤º |

### 2.3 æ§åˆ¶æµç¨‹

#### 2.3.1 ç¨‹åºåˆ‡æ¢å¸ƒå±€

```
ç”¨æˆ·æ“ä½œï¼ˆèœå•/å¿«æ·é”®/çŠ¶æ€æ ï¼‰
    â†“
å‘é€ Action: .layoutModeChanged(mode)
    â†“
Reducer å¤„ç†ï¼š
  - æ›´æ–° state.layoutMode
  - æ›´æ–° state.columnVisibility = mode.columnVisibility
  - ä¿å­˜åˆ° UserDefaults
    â†“
è§†å›¾å“åº”ï¼š
  - NavigationSplitView çš„ columnVisibility Binding è¯»å–æ–°å€¼
  - è‡ªåŠ¨æ˜¾ç¤º/éšè—å¯¹åº”çš„æ 
```

#### 2.3.2 ç”¨æˆ·æ‰‹åŠ¨æ‹–æ‹½è°ƒæ•´

```
ç”¨æˆ·æ‹–æ‹½æ åˆ†éš”çº¿
    â†“
NavigationSplitView è§¦å‘ columnVisibility å˜åŒ–
    â†“
Binding set å›è°ƒï¼š
  - æ£€æŸ¥æ–° visibility æ˜¯å¦ä¸å½“å‰ layoutMode çš„ columnVisibility ä¸åŒ
  - å¦‚æœä¸åŒï¼Œå‘é€ Action: .columnVisibilityChanged(visibility)
    â†“
Reducer å¤„ç†ï¼š
  - æ›´æ–° state.columnVisibility
  - æ ¹æ® visibility æ¨æ–­å¹¶æ›´æ–° state.layoutMode
  - ä¿å­˜åˆ° UserDefaults
```

### 2.4 åŒå‘åŒæ­¥æœºåˆ¶

**å…³é”®è®¾è®¡**ï¼šæ”¯æŒåŒå‘åŒæ­¥

1. **ç¨‹åº â†’ è§†å›¾**ï¼š`layoutMode` â†’ `columnVisibility` â†’ `NavigationSplitView`
2. **è§†å›¾ â†’ ç¨‹åº**ï¼šç”¨æˆ·æ‹–æ‹½ â†’ `columnVisibility` â†’ `layoutMode`

**åŒæ­¥é€»è¾‘**ï¼š

```swift
// ç¨‹åºåˆ‡æ¢æ—¶
case .layoutModeChanged(let mode):
    state.layoutMode = mode
    state.columnVisibility = mode.columnVisibility  // åŒæ­¥åˆ° columnVisibility

// ç”¨æˆ·æ‹–æ‹½æ—¶
case .columnVisibilityChanged(let visibility):
    if visibility != state.layoutMode.columnVisibility {
        // ç”¨æˆ·æ‰‹åŠ¨è°ƒæ•´ï¼Œéœ€è¦åŒæ­¥åˆ° layoutMode
        state.columnVisibility = visibility
        state.layoutMode = LayoutMode.from(visibility)
    }
```

---

## 3. å®½åº¦æ§åˆ¶æœºåˆ¶

### 3.1 å„æ å®½åº¦è®¾ç½®

#### ä¾§è¾¹æ ï¼ˆSidebarï¼‰
```swift
.navigationSplitViewColumnWidth(min: 180, ideal: 200, max: 250)
```
- **æœ€å°å®½åº¦**: 180ptï¼ˆä¿è¯å†…å®¹ä¸æŒ¤å‹ï¼‰
- **ç†æƒ³å®½åº¦**: 200ptï¼ˆé»˜è®¤æ˜¾ç¤ºå®½åº¦ï¼‰
- **æœ€å¤§å®½åº¦**: 250ptï¼ˆé˜²æ­¢å ç”¨è¿‡å¤šç©ºé—´ï¼‰

#### ç¬”è®°åˆ—è¡¨ï¼ˆNoteListï¼‰
```swift
.navigationSplitViewColumnWidth(min: 280, ideal: 280, max: 500)
```
- **æœ€å°å®½åº¦**: 280ptï¼ˆä¿è¯æ ‡é¢˜å’Œé¢„è§ˆå®Œæ•´æ˜¾ç¤ºï¼‰
- **ç†æƒ³å®½åº¦**: 280ptï¼ˆä¸æœ€å°å®½åº¦ç›¸åŒï¼‰
- **æœ€å¤§å®½åº¦**: 500ptï¼ˆæ”¯æŒå®½å±æ˜¾ç¤ºæ›´å¤šå†…å®¹ï¼‰

#### ç¼–è¾‘å™¨ï¼ˆEditorï¼‰
```swift
// ä¸è®¾ç½®æœ€å°å®½åº¦ï¼Œè®©ç¼–è¾‘å™¨åŒºåŸŸçµæ´»é€‚åº”çª—å£å¤§å°
```
- **å®½åº¦**: è‡ªé€‚åº”å‰©ä½™ç©ºé—´
- **ç‰¹ç‚¹**: å æ®æ‰€æœ‰å¯ç”¨ç©ºé—´ï¼Œç¡®ä¿ç¼–è¾‘åŒºåŸŸæœ€å¤§åŒ–

### 3.2 å®½åº¦åˆ†é…é€»è¾‘

**æ€»å®½åº¦åˆ†é…**ï¼š
- çª—å£å®½åº¦ = ä¾§è¾¹æ å®½åº¦ + åˆ—è¡¨å®½åº¦ + ç¼–è¾‘å™¨å®½åº¦ + åˆ†éš”çº¿å®½åº¦
- ç¼–è¾‘å™¨å®½åº¦ = çª—å£å®½åº¦ - ä¾§è¾¹æ å®½åº¦ - åˆ—è¡¨å®½åº¦ - åˆ†éš”çº¿å®½åº¦

**å“åº”å¼è¡Œä¸º**ï¼š
- çª—å£ç¼©å°æ—¶ï¼Œä¼˜å…ˆä¿è¯ç¼–è¾‘å™¨æœ€å°å¯ç”¨å®½åº¦
- å¦‚æœç©ºé—´ä¸è¶³ï¼Œ`NavigationSplitView` ä¼šè‡ªåŠ¨éšè—ä¾§è¾¹æ æˆ–åˆ—è¡¨
- ä½¿ç”¨ `.balanced` æ ·å¼ï¼Œç³»ç»Ÿè‡ªåŠ¨å¹³è¡¡å„æ å®½åº¦

---

## 4. çŠ¶æ€ç®¡ç†æœºåˆ¶

### 4.1 TCA çŠ¶æ€ç»“æ„

```swift
@ObservableState
struct State: Equatable {
    var layoutMode: LayoutMode = .threeColumn
    var columnVisibility: NavigationSplitViewVisibility = .all
    
    init() {
        // ä» UserDefaults åŠ è½½ä¿å­˜çš„å¸ƒå±€æ¨¡å¼
        if let savedMode = UserDefaults.standard.string(forKey: "layoutMode"),
           let mode = LayoutMode(rawValue: savedMode) {
            self.layoutMode = mode
            self.columnVisibility = mode.columnVisibility
        }
    }
}
```

### 4.2 Action å®šä¹‰

```swift
enum Action {
    case layoutModeChanged(LayoutMode)              // ç¨‹åºåˆ‡æ¢å¸ƒå±€
    case columnVisibilityChanged(NavigationSplitViewVisibility)  // ç”¨æˆ·æ‹–æ‹½è°ƒæ•´
    // ... å…¶ä»– Actions
}
```

### 4.3 Reducer å¤„ç†

```swift
case .layoutModeChanged(let mode):
    state.layoutMode = mode
    state.columnVisibility = mode.columnVisibility
    UserDefaults.standard.set(mode.rawValue, forKey: "layoutMode")
    return .none

case .columnVisibilityChanged(let visibility):
    let expectedVisibility = state.layoutMode.columnVisibility
    if visibility == expectedVisibility {
        // ç¨‹åºè®¾ç½®å¯¼è‡´çš„ï¼ŒåªåŒæ­¥ columnVisibility
        state.columnVisibility = visibility
        return .none
    }
    // ç”¨æˆ·æ‰‹åŠ¨æ‹–æ‹½å¯¼è‡´çš„ï¼Œéœ€è¦æ›´æ–° layoutMode
    state.columnVisibility = visibility
    state.layoutMode = LayoutMode.from(visibility)
    UserDefaults.standard.set(state.layoutMode.rawValue, forKey: "layoutMode")
    return .none
```

### 4.4 çŠ¶æ€æŒä¹…åŒ–

- **å­˜å‚¨ä½ç½®**: `UserDefaults.standard`
- **å­˜å‚¨é”®**: `"layoutMode"`
- **å­˜å‚¨å€¼**: `LayoutMode.rawValue`ï¼ˆ"ä¸‰æ "ã€"ä¸¤æ "ã€"ä¸€æ "ï¼‰
- **åŠ è½½æ—¶æœº**: `State.init()` æ—¶è‡ªåŠ¨åŠ è½½
- **ä¿å­˜æ—¶æœº**: å¸ƒå±€æ¨¡å¼æ”¹å˜æ—¶ç«‹å³ä¿å­˜

---

## 5. ä¼˜åŒ–ç©ºé—´åˆ†æ

### 5.1 å¸ƒå±€æ§åˆ¶ä¼˜åŒ–

#### âš ï¸ é—®é¢˜ 1ï¼šå¸ƒå±€æ¨¡å¼åˆ‡æ¢å…¥å£ä¸å¤Ÿç›´è§‚

**ç°çŠ¶**ï¼š
- èœå•æ ï¼šè§†å›¾ â†’ å¸ƒå±€æ¨¡å¼ â†’ é€‰æ‹©æ¨¡å¼ï¼ˆéœ€è¦ 3 æ¬¡ç‚¹å‡»ï¼‰
- çŠ¶æ€æ ï¼šæ˜¾ç¤ºå½“å‰æ¨¡å¼ï¼Œç‚¹å‡»å¾ªç¯åˆ‡æ¢ï¼ˆä½†åªèƒ½å¾ªç¯ï¼Œä¸èƒ½ç›´æ¥é€‰æ‹©ï¼‰
- å¿«æ·é”®ï¼šæœªå®ç°ï¼ˆè®¾è®¡æ–‡æ¡£ä¸­æœ‰ï¼Œä½†ä»£ç ä¸­æœªå®ç°ï¼‰

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **æ·»åŠ å¿«æ·é”®æ”¯æŒ**ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
   - `â‡§âŒ˜1`ï¼šåˆ‡æ¢åˆ°ä¸‰æ æ¨¡å¼
   - `â‡§âŒ˜2`ï¼šåˆ‡æ¢åˆ°ä¸¤æ æ¨¡å¼
   - `â‡§âŒ˜3`ï¼šåˆ‡æ¢åˆ°ä¸€æ æ¨¡å¼
   - ç¬¦åˆ macOS åº”ç”¨ä¹ æƒ¯ï¼Œå¿«é€Ÿåˆ‡æ¢

2. **çŠ¶æ€æ ä¼˜åŒ–**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - å½“å‰ï¼šç‚¹å‡»å¾ªç¯åˆ‡æ¢ï¼ˆä¸‰æ  â†’ ä¸¤æ  â†’ ä¸€æ  â†’ ä¸‰æ ï¼‰
   - å»ºè®®ï¼šæ”¹ä¸ºä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ç›´æ¥é€‰æ‹©ç›®æ ‡æ¨¡å¼
   - æˆ–è€…ï¼šä¿ç•™å¾ªç¯åˆ‡æ¢ï¼Œä½†æ·»åŠ å·¥å…·æç¤ºæ˜¾ç¤ºå¿«æ·é”®

3. **å·¥å…·æ æŒ‰é’®**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
   - åœ¨ç¼–è¾‘å™¨å·¥å…·æ æ·»åŠ å¸ƒå±€æ¨¡å¼åˆ‡æ¢æŒ‰é’®
   - ä½¿ç”¨å›¾æ ‡ç›´è§‚æ˜¾ç¤ºå½“å‰æ¨¡å¼
   - ç‚¹å‡»å¼¹å‡ºèœå•é€‰æ‹©æ¨¡å¼

#### âš ï¸ é—®é¢˜ 2ï¼šå®½åº¦è®¾ç½®ä¸å¤Ÿçµæ´»

**ç°çŠ¶**ï¼š
- ä¾§è¾¹æ ï¼šå›ºå®šèŒƒå›´ 180-250pt
- åˆ—è¡¨ï¼šå›ºå®šèŒƒå›´ 280-500pt
- ç¼–è¾‘å™¨ï¼šå®Œå…¨è‡ªé€‚åº”

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å®½åº¦èŒƒå›´**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - åœ¨è®¾ç½®ä¸­æ·»åŠ "å¸ƒå±€å®½åº¦"é€‰é¡¹
   - å…è®¸ç”¨æˆ·è®¾ç½®å„æ çš„æœ€å°/ç†æƒ³/æœ€å¤§å®½åº¦
   - ä¿å­˜åˆ° UserDefaults

2. **å“åº”å¼å®½åº¦è°ƒæ•´**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
   - æ ¹æ®çª—å£å¤§å°è‡ªåŠ¨è°ƒæ•´å„æ å®½åº¦
   - å°çª—å£ï¼ˆ< 1000ptï¼‰ï¼šç¼©å°ä¾§è¾¹æ å’Œåˆ—è¡¨
   - å¤§çª—å£ï¼ˆ> 1600ptï¼‰ï¼šæ‰©å¤§åˆ—è¡¨ä»¥æ˜¾ç¤ºæ›´å¤šå†…å®¹

3. **è®°ä½ç”¨æˆ·è°ƒæ•´çš„å®½åº¦**ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
   - å½“å‰ï¼šç”¨æˆ·æ‹–æ‹½è°ƒæ•´å®½åº¦åï¼Œåˆ‡æ¢å¸ƒå±€æ¨¡å¼å†åˆ‡æ¢å›æ¥ï¼Œå®½åº¦ä¼šé‡ç½®
   - å»ºè®®ï¼šä¸ºæ¯ç§å¸ƒå±€æ¨¡å¼å•ç‹¬ä¿å­˜ç”¨æˆ·è°ƒæ•´çš„å®½åº¦
   - å®ç°ï¼šä½¿ç”¨ `UserDefaults` å­˜å‚¨ `layoutMode_width_sidebar`ã€`layoutMode_width_list` ç­‰

#### âš ï¸ é—®é¢˜ 3ï¼šåŒå‘åŒæ­¥é€»è¾‘å¯èƒ½äº§ç”Ÿå†²çª

**ç°çŠ¶**ï¼š
```swift
set: { newVisibility in
    if newVisibility != store.layoutMode.columnVisibility {
        store.send(.columnVisibilityChanged(newVisibility))
    }
}
```

**æ½œåœ¨é—®é¢˜**ï¼š
- å¦‚æœç¨‹åºå¿«é€Ÿåˆ‡æ¢å¸ƒå±€æ¨¡å¼ï¼Œå¯èƒ½å¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´
- ç”¨æˆ·æ‹–æ‹½å’Œç¨‹åºåˆ‡æ¢å¯èƒ½äº§ç”Ÿç«æ€æ¡ä»¶

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **æ·»åŠ çŠ¶æ€é”**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - åœ¨å¸ƒå±€åˆ‡æ¢è¿‡ç¨‹ä¸­ï¼Œæš‚æ—¶å¿½ç•¥ç”¨æˆ·æ‹–æ‹½äº‹ä»¶
   - ä½¿ç”¨ `@State` æˆ– `@Published` æ ‡è®°æ˜¯å¦æ­£åœ¨åˆ‡æ¢

2. **é˜²æŠ–å¤„ç†**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
   - å¯¹ç”¨æˆ·æ‹–æ‹½äº‹ä»¶è¿›è¡Œé˜²æŠ–å¤„ç†
   - é¿å…é¢‘ç¹è§¦å‘çŠ¶æ€æ›´æ–°

3. **æ›´ç²¾ç¡®çš„åŒæ­¥åˆ¤æ–­**ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
   - å½“å‰åˆ¤æ–­ï¼š`newVisibility != store.layoutMode.columnVisibility`
   - é—®é¢˜ï¼šå¦‚æœç”¨æˆ·æ‹–æ‹½åˆ°ä¸­é—´çŠ¶æ€ï¼ˆä¾‹å¦‚ä»ä¸‰æ æ‹–åˆ°ä¸¤æ ï¼Œä½†è¿˜æ²¡å®Œå…¨éšè—ä¾§è¾¹æ ï¼‰ï¼Œå¯èƒ½è¯¯åˆ¤
   - å»ºè®®ï¼šä½¿ç”¨æ›´ç²¾ç¡®çš„åˆ¤æ–­é€»è¾‘ï¼Œæˆ–è€…å»¶è¿Ÿåˆ¤æ–­

### 5.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–

#### âš ï¸ é—®é¢˜ 4ï¼šå¸ƒå±€åˆ‡æ¢ç¼ºå°‘è¿‡æ¸¡æç¤º

**ç°çŠ¶**ï¼š
- `NavigationSplitView` è‡ªå¸¦åŠ¨ç”»ï¼Œä½†ç”¨æˆ·å¯èƒ½ä¸çŸ¥é“æ­£åœ¨åˆ‡æ¢
- æ²¡æœ‰è§†è§‰åé¦ˆæç¤ºå½“å‰æ­£åœ¨åˆ‡æ¢

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **æ·»åŠ åˆ‡æ¢æŒ‡ç¤ºå™¨**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
   - åœ¨çŠ¶æ€æ æ˜¾ç¤º"æ­£åœ¨åˆ‡æ¢å¸ƒå±€..."æç¤º
   - åˆ‡æ¢å®Œæˆåè‡ªåŠ¨éšè—

2. **å¿«æ·é”®æç¤º**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - åœ¨èœå•é¡¹ä¸­æ˜¾ç¤ºå¿«æ·é”®ï¼ˆâ‡§âŒ˜1/2/3ï¼‰
   - åœ¨çŠ¶æ€æ æŒ‰é’®çš„å·¥å…·æç¤ºä¸­æ˜¾ç¤ºå¿«æ·é”®

#### âš ï¸ é—®é¢˜ 5ï¼šçª—å£å¤§å°ä¸å¸ƒå±€æ¨¡å¼ä¸åŒ¹é…

**ç°çŠ¶**ï¼š
- æœ€å°çª—å£å®½åº¦ï¼š800pt
- ä¸‰æ æ¨¡å¼æœ€å°å®½åº¦éœ€æ±‚ï¼š180 + 280 + ç¼–è¾‘å™¨æœ€å°å®½åº¦ â‰ˆ 600ptï¼ˆä¸å«åˆ†éš”çº¿ï¼‰
- å¦‚æœçª—å£å¤ªå°ï¼Œä¸‰æ æ¨¡å¼å¯èƒ½æ˜¾ç¤ºä¸å®Œæ•´

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **è‡ªåŠ¨å¸ƒå±€é€‚é…**ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
   - æ£€æµ‹çª—å£å®½åº¦
   - å¦‚æœçª—å£å®½åº¦ < 1000pt ä¸”å½“å‰ä¸ºä¸‰æ æ¨¡å¼ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸¤æ æ¨¡å¼
   - å¦‚æœçª—å£å®½åº¦ < 600pt ä¸”å½“å‰ä¸ºä¸¤æ æ¨¡å¼ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸€æ æ¨¡å¼

2. **åŠ¨æ€æœ€å°å®½åº¦**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - æ ¹æ®å½“å‰å¸ƒå±€æ¨¡å¼åŠ¨æ€è°ƒæ•´çª—å£æœ€å°å®½åº¦
   - ä¸‰æ æ¨¡å¼ï¼šminWidth = 1000pt
   - ä¸¤æ æ¨¡å¼ï¼šminWidth = 700pt
   - ä¸€æ æ¨¡å¼ï¼šminWidth = 500pt

### 5.3 æ€§èƒ½ä¼˜åŒ–

#### âš ï¸ é—®é¢˜ 6ï¼šçŠ¶æ€æ›´æ–°å¯èƒ½è§¦å‘ä¸å¿…è¦çš„é‡ç»˜

**ç°çŠ¶**ï¼š
- æ¯æ¬¡å¸ƒå±€åˆ‡æ¢éƒ½ä¼šæ›´æ–° `layoutMode` å’Œ `columnVisibility`
- å¯èƒ½è§¦å‘æ‰€æœ‰å­è§†å›¾çš„é‡ç»˜

**ä¼˜åŒ–å»ºè®®**ï¼š
1. **æ¡ä»¶æ›´æ–°**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
   - åªåœ¨å¸ƒå±€æ¨¡å¼çœŸæ­£æ”¹å˜æ—¶æ›´æ–°çŠ¶æ€
   - é¿å…é‡å¤è®¾ç½®ç›¸åŒçš„å€¼

2. **å»¶è¿ŸåŠ è½½**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
   - å¯¹äºéšè—çš„æ ï¼Œå»¶è¿ŸåŠ è½½å…¶å†…å®¹
   - å‡å°‘å†…å­˜å ç”¨å’Œåˆå§‹åŒ–æ—¶é—´

### 5.4 åŠŸèƒ½æ‰©å±•ä¼˜åŒ–

#### ğŸ’¡ å»ºè®® 1ï¼šæ”¯æŒæ›´å¤šå¸ƒå±€æ¨¡å¼

**æ‰©å±•å¯èƒ½æ€§**ï¼š
- **å››æ æ¨¡å¼**ï¼šä¾§è¾¹æ  + æ ‡ç­¾æ  + åˆ—è¡¨ + ç¼–è¾‘å™¨
- **è‡ªå®šä¹‰æ¨¡å¼**ï¼šç”¨æˆ·è‡ªå®šä¹‰æ˜¾ç¤ºå“ªäº›æ 
- **åˆ†å±æ¨¡å¼**ï¼šæ”¯æŒå¤šä¸ªç¼–è¾‘å™¨å¹¶æ’æ˜¾ç¤º

**å®ç°éš¾åº¦**ï¼šé«˜ï¼ˆéœ€è¦é‡æ„å¸ƒå±€ç³»ç»Ÿï¼‰

#### ğŸ’¡ å»ºè®® 2ï¼šå¸ƒå±€é¢„è®¾

**åŠŸèƒ½**ï¼š
- ä¿å­˜ç”¨æˆ·å¸¸ç”¨çš„å¸ƒå±€é…ç½®ï¼ˆå®½åº¦ã€æ¨¡å¼ç»„åˆï¼‰
- å¿«é€Ÿåˆ‡æ¢åˆ°é¢„è®¾å¸ƒå±€
- æ”¯æŒä¸ºä¸åŒåœºæ™¯è®¾ç½®ä¸åŒå¸ƒå±€ï¼ˆä¾‹å¦‚ï¼šå†™ä½œæ¨¡å¼ã€æµè§ˆæ¨¡å¼ï¼‰

**å®ç°éš¾åº¦**ï¼šä¸­

#### ğŸ’¡ å»ºè®® 3ï¼šå¿«æ·é”®è‡ªå®šä¹‰

**åŠŸèƒ½**ï¼š
- å…è®¸ç”¨æˆ·åœ¨è®¾ç½®ä¸­è‡ªå®šä¹‰å¸ƒå±€åˆ‡æ¢å¿«æ·é”®
- é¿å…ä¸å…¶ä»–åº”ç”¨å¿«æ·é”®å†²çª

**å®ç°éš¾åº¦**ï¼šä½

---

## 6. ä¼˜åŒ–ä¼˜å…ˆçº§æ€»ç»“

### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **æ·»åŠ å¿«æ·é”®æ”¯æŒ**ï¼ˆâ‡§âŒ˜1/2/3ï¼‰
   - å½±å“ï¼šç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡
   - éš¾åº¦ï¼šä½
   - å·¥ä½œé‡ï¼š1-2 å°æ—¶

2. **è®°ä½ç”¨æˆ·è°ƒæ•´çš„å®½åº¦**
   - å½±å“ï¼šé¿å…ç”¨æˆ·é‡å¤è°ƒæ•´å®½åº¦
   - éš¾åº¦ï¼šä¸­
   - å·¥ä½œé‡ï¼š2-3 å°æ—¶

3. **è‡ªåŠ¨å¸ƒå±€é€‚é…çª—å£å¤§å°**
   - å½±å“ï¼šé¿å…å¸ƒå±€æ˜¾ç¤ºä¸å®Œæ•´
   - éš¾åº¦ï¼šä¸­
   - å·¥ä½œé‡ï¼š2-3 å°æ—¶

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

1. **çŠ¶æ€æ ä¼˜åŒ–ï¼ˆä¸‹æ‹‰èœå•ï¼‰**
   - å½±å“ï¼šæ›´ç›´è§‚çš„å¸ƒå±€åˆ‡æ¢
   - éš¾åº¦ï¼šä½
   - å·¥ä½œé‡ï¼š1-2 å°æ—¶

2. **æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å®½åº¦èŒƒå›´**
   - å½±å“ï¼šæ»¡è¶³ä¸åŒç”¨æˆ·éœ€æ±‚
   - éš¾åº¦ï¼šä¸­
   - å·¥ä½œé‡ï¼š3-4 å°æ—¶

3. **æ›´ç²¾ç¡®çš„åŒæ­¥åˆ¤æ–­**
   - å½±å“ï¼šé¿å…çŠ¶æ€ä¸ä¸€è‡´
   - éš¾åº¦ï¼šä¸­
   - å·¥ä½œé‡ï¼š2-3 å°æ—¶

4. **å¿«æ·é”®æç¤º**
   - å½±å“ï¼šç”¨æˆ·å‘ç°åŠŸèƒ½æ›´å®¹æ˜“
   - éš¾åº¦ï¼šä½
   - å·¥ä½œé‡ï¼š1 å°æ—¶

### ğŸŸ¢ ä½ä¼˜å…ˆçº§

1. **å·¥å…·æ æŒ‰é’®**
   - å½±å“ï¼šå¿«é€Ÿè®¿é—®ï¼ˆä½†å ç”¨ç©ºé—´ï¼‰
   - éš¾åº¦ï¼šä½
   - å·¥ä½œé‡ï¼š1-2 å°æ—¶

2. **å“åº”å¼å®½åº¦è°ƒæ•´**
   - å½±å“ï¼šæ›´å¥½çš„ç©ºé—´åˆ©ç”¨
   - éš¾åº¦ï¼šä¸­
   - å·¥ä½œé‡ï¼š3-4 å°æ—¶

3. **åˆ‡æ¢æŒ‡ç¤ºå™¨**
   - å½±å“ï¼šè§†è§‰åé¦ˆ
   - éš¾åº¦ï¼šä½
   - å·¥ä½œé‡ï¼š1 å°æ—¶

4. **å¸ƒå±€é¢„è®¾**
   - å½±å“ï¼šé«˜çº§ç”¨æˆ·åŠŸèƒ½
   - éš¾åº¦ï¼šé«˜
   - å·¥ä½œé‡ï¼š5-8 å°æ—¶

---

## 7. æŠ€æœ¯å€ºåŠ¡åˆ†æ

### 7.1 ä»£ç ç»“æ„

**ä¼˜ç‚¹**ï¼š
- âœ… ä½¿ç”¨ TCA è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œç»“æ„æ¸…æ™°
- âœ… å¸ƒå±€æ¨¡å¼æšä¸¾åŒ–ï¼Œæ˜“äºæ‰©å±•
- âœ… åŒå‘åŒæ­¥æœºåˆ¶è®¾è®¡åˆç†

**å¾…æ”¹è¿›**ï¼š
- âš ï¸ `columnVisibility` å’Œ `layoutMode` å­˜åœ¨å†—ä½™ï¼ˆä½†è¿™æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºéœ€è¦ä¸ç³»ç»Ÿ API åŒæ­¥ï¼‰
- âš ï¸ çŠ¶æ€åŒæ­¥é€»è¾‘è¾ƒå¤æ‚ï¼Œå¯èƒ½äº§ç”Ÿè¾¹ç•Œæƒ…å†µ

### 7.2 æµ‹è¯•è¦†ç›–

**å»ºè®®**ï¼š
- æ·»åŠ å•å…ƒæµ‹è¯•ï¼šæµ‹è¯•å¸ƒå±€æ¨¡å¼åˆ‡æ¢é€»è¾‘
- æ·»åŠ é›†æˆæµ‹è¯•ï¼šæµ‹è¯•ç”¨æˆ·æ‹–æ‹½å’Œç¨‹åºåˆ‡æ¢çš„äº¤äº’
- æ·»åŠ  UI æµ‹è¯•ï¼šæµ‹è¯•ä¸åŒçª—å£å¤§å°ä¸‹çš„å¸ƒå±€è¡¨ç°

---

## 8. æ€»ç»“

### 8.1 å½“å‰å®ç°è¯„ä»·

**ä¼˜ç‚¹**ï¼š
- âœ… ä½¿ç”¨ç³»ç»ŸåŸç”Ÿ `NavigationSplitView`ï¼Œç¨³å®šå¯é 
- âœ… æ”¯æŒä¸‰ç§å¸ƒå±€æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯
- âœ… åŒå‘åŒæ­¥æœºåˆ¶ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½
- âœ… çŠ¶æ€æŒä¹…åŒ–ï¼Œå¸ƒå±€æ¨¡å¼ä¼šä¿å­˜

**ä¸è¶³**ï¼š
- âš ï¸ ç¼ºå°‘å¿«æ·é”®æ”¯æŒï¼ˆè®¾è®¡æ–‡æ¡£ä¸­æœ‰ï¼Œä½†æœªå®ç°ï¼‰
- âš ï¸ å®½åº¦è®¾ç½®ä¸å¤Ÿçµæ´»ï¼Œæ— æ³•è®°ä½ç”¨æˆ·è°ƒæ•´
- âš ï¸ ç¼ºå°‘çª—å£å¤§å°è‡ªé€‚åº”
- âš ï¸ å¸ƒå±€åˆ‡æ¢å…¥å£ä¸å¤Ÿç›´è§‚

### 8.2 ä¼˜åŒ–å»ºè®®æ€»ç»“

**ç«‹å³å®æ–½**ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰ï¼š
1. æ·»åŠ å¿«æ·é”®æ”¯æŒï¼ˆâ‡§âŒ˜1/2/3ï¼‰
2. è®°ä½ç”¨æˆ·è°ƒæ•´çš„å®½åº¦
3. è‡ªåŠ¨å¸ƒå±€é€‚é…çª—å£å¤§å°

**åç»­ä¼˜åŒ–**ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰ï¼š
1. çŠ¶æ€æ ä¼˜åŒ–ï¼ˆä¸‹æ‹‰èœå•ï¼‰
2. æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å®½åº¦èŒƒå›´
3. æ›´ç²¾ç¡®çš„åŒæ­¥åˆ¤æ–­

**é•¿æœŸè§„åˆ’**ï¼ˆä½ä¼˜å…ˆçº§ï¼‰ï¼š
1. å¸ƒå±€é¢„è®¾åŠŸèƒ½
2. å“åº”å¼å®½åº¦è°ƒæ•´
3. æ›´å¤šå¸ƒå±€æ¨¡å¼æ”¯æŒ

---

**ç»´æŠ¤è€…**: AI Assistant  
**çŠ¶æ€**: âœ… åˆ†æå®Œæˆï¼Œç­‰å¾…å®æ–½ä¼˜åŒ–

